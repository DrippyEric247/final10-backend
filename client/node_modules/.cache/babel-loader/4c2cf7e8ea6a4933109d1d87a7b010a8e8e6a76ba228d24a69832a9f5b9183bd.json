{"ast":null,"code":"const BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nconst authHeaders = () => {\n  const token = localStorage.getItem('token');\n  return {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${token || ''}`\n  };\n};\nexport async function getAlerts() {\n  const res = await fetch(`${BASE}/api/alerts`, {\n    headers: authHeaders()\n  });\n  if (!res.ok) throw new Error('Failed to load alerts');\n  return res.json();\n}\nexport async function createAlert(payload) {\n  const res = await fetch(`${BASE}/api/alerts`, {\n    method: 'POST',\n    headers: authHeaders(),\n    body: JSON.stringify(payload)\n  });\n  const data = await res.json();\n  if (!res.ok) throw new Error(data.message || 'Create failed');\n  return data;\n}\nexport async function toggleAlert(id) {\n  const res = await fetch(`${BASE}/api/alerts/${id}/toggle`, {\n    method: 'PATCH',\n    headers: authHeaders()\n  });\n  const data = await res.json();\n  if (!res.ok) throw new Error(data.message || 'Toggle failed');\n  return data;\n}\nexport async function deleteAlert(id) {\n  const res = await fetch(`${BASE}/api/alerts/${id}`, {\n    method: 'DELETE',\n    headers: authHeaders()\n  });\n  if (!res.ok) throw new Error('Delete failed');\n  return true;\n}","map":{"version":3,"names":["BASE","process","env","REACT_APP_API_URL","authHeaders","token","localStorage","getItem","Authorization","getAlerts","res","fetch","headers","ok","Error","json","createAlert","payload","method","body","JSON","stringify","data","message","toggleAlert","id","deleteAlert"],"sources":["C:/Users/ericv/final10/client/src/lib/api.js"],"sourcesContent":["const BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n\r\nconst authHeaders = () => {\r\n  const token = localStorage.getItem('token');\r\n  return { 'Content-Type': 'application/json', Authorization: `Bearer ${token || ''}` };\r\n};\r\n\r\nexport async function getAlerts() {\r\n  const res = await fetch(`${BASE}/api/alerts`, { headers: authHeaders() });\r\n  if (!res.ok) throw new Error('Failed to load alerts');\r\n  return res.json();\r\n}\r\n\r\nexport async function createAlert(payload) {\r\n  const res = await fetch(`${BASE}/api/alerts`, {\r\n    method: 'POST', headers: authHeaders(), body: JSON.stringify(payload),\r\n  });\r\n  const data = await res.json();\r\n  if (!res.ok) throw new Error(data.message || 'Create failed');\r\n  return data;\r\n}\r\n\r\nexport async function toggleAlert(id) {\r\n  const res = await fetch(`${BASE}/api/alerts/${id}/toggle`, { method: 'PATCH', headers: authHeaders() });\r\n  const data = await res.json();\r\n  if (!res.ok) throw new Error(data.message || 'Toggle failed');\r\n  return data;\r\n}\r\n\r\nexport async function deleteAlert(id) {\r\n  const res = await fetch(`${BASE}/api/alerts/${id}`, { method: 'DELETE', headers: authHeaders() });\r\n  if (!res.ok) throw new Error('Delete failed');\r\n  return true;\r\n}\r\n\r\n\r\n"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAErE,MAAMC,WAAW,GAAGA,CAAA,KAAM;EACxB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,OAAO;IAAE,cAAc,EAAE,kBAAkB;IAAEC,aAAa,EAAE,UAAUH,KAAK,IAAI,EAAE;EAAG,CAAC;AACvF,CAAC;AAED,OAAO,eAAeI,SAASA,CAAA,EAAG;EAChC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,IAAI,aAAa,EAAE;IAAEY,OAAO,EAAER,WAAW,CAAC;EAAE,CAAC,CAAC;EACzE,IAAI,CAACM,GAAG,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;EACrD,OAAOJ,GAAG,CAACK,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeC,WAAWA,CAACC,OAAO,EAAE;EACzC,MAAMP,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,IAAI,aAAa,EAAE;IAC5CkB,MAAM,EAAE,MAAM;IAAEN,OAAO,EAAER,WAAW,CAAC,CAAC;IAAEe,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,OAAO;EACtE,CAAC,CAAC;EACF,MAAMK,IAAI,GAAG,MAAMZ,GAAG,CAACK,IAAI,CAAC,CAAC;EAC7B,IAAI,CAACL,GAAG,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACQ,IAAI,CAACC,OAAO,IAAI,eAAe,CAAC;EAC7D,OAAOD,IAAI;AACb;AAEA,OAAO,eAAeE,WAAWA,CAACC,EAAE,EAAE;EACpC,MAAMf,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,IAAI,eAAeyB,EAAE,SAAS,EAAE;IAAEP,MAAM,EAAE,OAAO;IAAEN,OAAO,EAAER,WAAW,CAAC;EAAE,CAAC,CAAC;EACvG,MAAMkB,IAAI,GAAG,MAAMZ,GAAG,CAACK,IAAI,CAAC,CAAC;EAC7B,IAAI,CAACL,GAAG,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACQ,IAAI,CAACC,OAAO,IAAI,eAAe,CAAC;EAC7D,OAAOD,IAAI;AACb;AAEA,OAAO,eAAeI,WAAWA,CAACD,EAAE,EAAE;EACpC,MAAMf,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,IAAI,eAAeyB,EAAE,EAAE,EAAE;IAAEP,MAAM,EAAE,QAAQ;IAAEN,OAAO,EAAER,WAAW,CAAC;EAAE,CAAC,CAAC;EACjG,IAAI,CAACM,GAAG,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;EAC7C,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}