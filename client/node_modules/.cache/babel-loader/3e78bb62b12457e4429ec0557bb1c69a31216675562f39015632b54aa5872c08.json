{"ast":null,"code":"// client/src/lib/api.js\nimport axios from 'axios';\nconst BASE = '/api';\nexport function setAuthToken(token) {\n  if (token) {\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    localStorage.setItem('token', token);\n  } else {\n    delete axios.defaults.headers.common['Authorization'];\n    localStorage.removeItem('token');\n  }\n}\n\n// Example auth calls\nexport async function registerUser(body) {\n  const {\n    data\n  } = await axios.post(`${BASE}/auth/signup`, body);\n  setAuthToken(data.token);\n  return data;\n}\nexport async function loginUser(email, password) {\n  const {\n    data\n  } = await axios.post(`${BASE}/auth/login`, {\n    email,\n    password\n  });\n  setAuthToken(data.token);\n  return data;\n}\n\n// points\nexport async function getMyPoints() {\n  const {\n    data\n  } = await axios.get(`${BASE}/points/me`, {\n    headers: authHeaders()\n  });\n  return data; // { balance, history }\n}\nexport async function claimDailyLogin() {\n  const {\n    data\n  } = await axios.post(`${BASE}/points/daily`, {}, {\n    headers: authHeaders()\n  });\n  return data; // { newBalance, earned, activity }\n}\nexport async function getPointsHistory() {\n  const {\n    data\n  } = await axios.get(`${BASE}/points/history`, {\n    headers: authHeaders()\n  });\n  return data; // [{_id, type, amount, note, createdAt}, ...]\n}\nexport async function redeemPoints(amount) {\n  const {\n    data\n  } = await axios.post(`${BASE}/points/redeem`, {\n    amount\n  }, {\n    headers: authHeaders()\n  });\n  return data;\n}\n\n// ---- (Optional) ALERTS – keep these to satisfy existing imports ----\nexport async function getAlerts() {\n  const {\n    data\n  } = await axios.get(`${BASE}/alerts`, {\n    headers: authHeaders()\n  });\n  return data;\n}\nexport async function createAlert(payload) {\n  const {\n    data\n  } = await axios.post(`${BASE}/alerts`, payload, {\n    headers: authHeaders()\n  });\n  return data;\n}\nexport async function deleteAlert(id) {\n  const {\n    data\n  } = await axios.delete(`${BASE}/alerts/${id}`, {\n    headers: authHeaders()\n  });\n  return data;\n}\nexport async function toggleAlert(id, enabled) {\n  const {\n    data\n  } = await axios.patch(`${BASE}/alerts/${id}`, {\n    enabled\n  }, {\n    headers: authHeaders()\n  });\n  return data;\n}","map":{"version":3,"names":["axios","BASE","setAuthToken","token","defaults","headers","common","localStorage","setItem","removeItem","registerUser","body","data","post","loginUser","email","password","getMyPoints","get","authHeaders","claimDailyLogin","getPointsHistory","redeemPoints","amount","getAlerts","createAlert","payload","deleteAlert","id","delete","toggleAlert","enabled","patch"],"sources":["C:/Users/ericv/final10/client/src/lib/api.js"],"sourcesContent":["// client/src/lib/api.js\r\nimport axios from 'axios';\r\n\r\nconst BASE = '/api';\r\n\r\nexport function setAuthToken(token) {\r\n  if (token) {\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    localStorage.setItem('token', token);\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n    localStorage.removeItem('token');\r\n  }\r\n}\r\n\r\n// Example auth calls\r\nexport async function registerUser(body) {\r\n  const { data } = await axios.post(`${BASE}/auth/signup`, body);\r\n  setAuthToken(data.token);\r\n  return data;\r\n}\r\n\r\nexport async function loginUser(email, password) {\r\n  const { data } = await axios.post(`${BASE}/auth/login`, { email, password });\r\n  setAuthToken(data.token);\r\n  return data;\r\n}\r\n\r\n\r\n// points\r\nexport async function getMyPoints() {\r\n  const { data } = await axios.get(`${BASE}/points/me`, { headers: authHeaders() });\r\n  return data; // { balance, history }\r\n}\r\n\r\nexport async function claimDailyLogin() {\r\n  const { data } = await axios.post(`${BASE}/points/daily`, {}, { headers: authHeaders() });\r\n  return data; // { newBalance, earned, activity }\r\n}\r\n\r\nexport async function getPointsHistory() {\r\n  const { data } = await axios.get(`${BASE}/points/history`, { headers: authHeaders() });\r\n  return data; // [{_id, type, amount, note, createdAt}, ...]\r\n}\r\n\r\nexport async function redeemPoints(amount) {\r\n  const { data } = await axios.post(`${BASE}/points/redeem`, { amount }, { headers: authHeaders() });\r\n  return data;\r\n}\r\n\r\n// ---- (Optional) ALERTS – keep these to satisfy existing imports ----\r\nexport async function getAlerts() {\r\n  const { data } = await axios.get(`${BASE}/alerts`, { headers: authHeaders() });\r\n  return data;\r\n}\r\nexport async function createAlert(payload) {\r\n  const { data } = await axios.post(`${BASE}/alerts`, payload, { headers: authHeaders() });\r\n  return data;\r\n}\r\nexport async function deleteAlert(id) {\r\n  const { data } = await axios.delete(`${BASE}/alerts/${id}`, { headers: authHeaders() });\r\n  return data;\r\n}\r\nexport async function toggleAlert(id, enabled) {\r\n  const { data } = await axios.patch(`${BASE}/alerts/${id}`, { enabled }, { headers: authHeaders() });\r\n  return data;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}