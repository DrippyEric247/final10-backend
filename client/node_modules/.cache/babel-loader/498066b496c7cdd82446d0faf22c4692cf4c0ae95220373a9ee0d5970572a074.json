{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ericv\\\\final10\\\\client\\\\src\\\\pages\\\\Trending.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Link } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport { Zap, Star, TrendingUp, Plus, Filter, Eye, MousePointer, Users, Crown, Target } from \"lucide-react\";\nimport ebayService from \"../services/ebayService\";\nimport promotionService from \"../services/promotionService\";\nimport { useAuth } from \"../context/AuthContext\";\nimport PromotedItemCard from \"../components/PromotedItemCard\";\nimport PromotionFilterTabs from \"../components/PromotionFilterTabs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Trending() {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [activeTab, setActiveTab] = useState('all');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n\n  // Fetch promoted trending feed\n  const {\n    data: promotedData,\n    status: promotedStatus,\n    error: promotedError\n  } = useQuery({\n    queryKey: [\"promoted-trending\", activeTab, selectedCategory],\n    queryFn: async () => {\n      try {\n        const feed = await promotionService.getTrendingFeed(selectedCategory, 20);\n        return feed;\n      } catch (error) {\n        console.error('Error fetching promoted trending:', error);\n        return {\n          items: [],\n          total: 0\n        };\n      }\n    },\n    enabled: !!user,\n    retry: 1,\n    refetchOnWindowFocus: false\n  });\n\n  // Fetch organic trending as fallback\n  const {\n    data: organicData,\n    status: organicStatus\n  } = useQuery({\n    queryKey: [\"organic-trending\", selectedCategory],\n    queryFn: async () => {\n      try {\n        const trendingItems = await ebayService.getTrendingItems(selectedCategory, 20);\n        return {\n          trendingAuctions: trendingItems.items || [],\n          trendingCategories: trendingItems.categories || []\n        };\n      } catch (error) {\n        console.error('Error fetching organic trending:', error);\n        return {\n          trendingAuctions: [],\n          trendingCategories: []\n        };\n      }\n    },\n    enabled: !!user && (activeTab === 'organic' || activeTab === 'all'),\n    retry: 1,\n    refetchOnWindowFocus: false\n  });\n\n  // Get promotion packages for quick promotion\n  const {\n    data: packages\n  } = useQuery({\n    queryKey: [\"promotion-packages\"],\n    queryFn: () => promotionService.getPackages(),\n    enabled: !!user\n  });\n\n  // Combine data based on active tab\n  const getDisplayData = () => {\n    if (activeTab === 'all') {\n      // Mix promoted and organic content\n      const promotedItems = (promotedData === null || promotedData === void 0 ? void 0 : promotedData.items) || [];\n      const organicItems = (organicData === null || organicData === void 0 ? void 0 : organicData.trendingAuctions) || [];\n\n      // Interleave items: 2 promoted, 1 organic, repeat\n      const mixedItems = [];\n      let promotedIndex = 0;\n      let organicIndex = 0;\n      while (promotedIndex < promotedItems.length || organicIndex < organicItems.length) {\n        // Add 2 promoted items\n        if (promotedIndex < promotedItems.length) {\n          mixedItems.push({\n            ...promotedItems[promotedIndex],\n            isPromoted: true\n          });\n          promotedIndex++;\n        }\n        if (promotedIndex < promotedItems.length) {\n          mixedItems.push({\n            ...promotedItems[promotedIndex],\n            isPromoted: true\n          });\n          promotedIndex++;\n        }\n\n        // Add 1 organic item\n        if (organicIndex < organicItems.length) {\n          mixedItems.push({\n            ...organicItems[organicIndex],\n            isPromoted: false\n          });\n          organicIndex++;\n        }\n      }\n      return mixedItems;\n    } else if (activeTab === 'organic') {\n      return ((organicData === null || organicData === void 0 ? void 0 : organicData.trendingAuctions) || []).map(item => ({\n        ...item,\n        isPromoted: false\n      }));\n    } else {\n      // Featured, promoted, etc.\n      return ((promotedData === null || promotedData === void 0 ? void 0 : promotedData.items) || []).map(item => ({\n        ...item,\n        isPromoted: true\n      }));\n    }\n  };\n  const displayData = getDisplayData();\n  const isLoading = promotedStatus === 'loading' || organicStatus === 'loading';\n  const error = promotedError || (organicData === null || organicData === void 0 ? void 0 : organicData.error);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-900 text-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-4\",\n              children: \"\\uD83D\\uDD25 Trending - Promote Your Listings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 text-lg\",\n              children: \"Discover promoted items and trending auctions. Login to see the promotion-powered feed!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl p-8 border border-purple-500/30\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold mb-4\",\n              children: \"Join the Promotion Revolution!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-300 mb-6\",\n              children: \"Promote your listings and get maximum visibility. Our AI-powered promotion system helps your items reach the right audience at the right time.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              className: \"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105\",\n              children: [/*#__PURE__*/_jsxDEV(Zap, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Login to Get Started\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this);\n  }\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-900 text-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"Loading promoted trending feed...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-900 text-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-500/20 border border-red-500/30 rounded-xl p-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-red-400 mb-2\",\n            children: \"Error Loading Trending Feed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: String(error)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Calculate stats for filter tabs\n  const stats = {\n    featured: displayData.filter(item => item.isPromoted && item.promotionType === 'featured').length,\n    promoted: displayData.filter(item => item.isPromoted && item.promotionType === 'promoted').length,\n    totalImpressions: displayData.reduce((sum, item) => {\n      var _item$promotionMetric;\n      return sum + (((_item$promotionMetric = item.promotionMetrics) === null || _item$promotionMetric === void 0 ? void 0 : _item$promotionMetric.impressions) || 0);\n    }, 0),\n    totalClicks: displayData.reduce((sum, item) => {\n      var _item$promotionMetric2;\n      return sum + (((_item$promotionMetric2 = item.promotionMetrics) === null || _item$promotionMetric2 === void 0 ? void 0 : _item$promotionMetric2.clicks) || 0);\n    }, 0)\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 text-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: -20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.6\n        },\n        className: \"text-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-4\",\n          children: \"\\uD83D\\uDD25 Trending - Promote Your Listings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 text-lg mb-6\",\n          children: \"Discover promoted items and trending auctions. Mix of premium promotions and organic content.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/promote\",\n          className: \"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Promote Your Listing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap justify-center gap-2 mb-6\",\n          children: ['all', 'electronics', 'fashion', 'home', 'automotive', 'sports'].map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedCategory(category),\n            className: `px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${selectedCategory === category ? 'bg-purple-600 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'}`,\n            children: category.charAt(0).toUpperCase() + category.slice(1)\n          }, category, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PromotionFilterTabs, {\n        activeTab: activeTab,\n        onTabChange: setActiveTab,\n        stats: stats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        transition: {\n          duration: 0.6,\n          delay: 0.2\n        },\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n        children: displayData.length > 0 ? displayData.map((item, index) => /*#__PURE__*/_jsxDEV(PromotedItemCard, {\n          item: item,\n          index: index,\n          isPromoted: item.isPromoted\n        }, `${item._id || item.id}-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-full text-center py-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-800 rounded-xl p-8 border border-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-gray-300 mb-2\",\n              children: \"No Trending Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 mb-6\",\n              children: activeTab === 'all' ? \"No promoted or trending items available right now.\" : `No ${activeTab} items available right now.`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/promote\",\n              className: \"inline-flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Be the First to Promote\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), displayData.length >= 20 && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.6,\n          delay: 0.4\n        },\n        className: \"text-center mt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-gray-800 hover:bg-gray-700 text-white font-medium py-3 px-6 rounded-lg border border-gray-600 transition-colors\",\n          children: \"Load More Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.6,\n          delay: 0.5\n        },\n        className: \"mt-12 bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl p-6 border border-purple-500/30\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(Eye, {\n              className: \"h-6 w-6 text-purple-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-white\",\n                children: stats.totalImpressions.toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-400\",\n                children: \"Total Impressions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(MousePointer, {\n              className: \"h-6 w-6 text-purple-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-white\",\n                children: stats.totalClicks\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-400\",\n                children: \"Total Clicks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(Star, {\n              className: \"h-6 w-6 text-purple-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-white\",\n                children: displayData.filter(item => item.isPromoted).length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-400\",\n                children: \"Promoted Items\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n}\n_s(Trending, \"dIaBTNdWr4/xMI3v1gsij7MJ0vM=\", false, function () {\n  return [useAuth, useQuery, useQuery, useQuery];\n});\n_c = Trending;\nvar _c;\n$RefreshReg$(_c, \"Trending\");","map":{"version":3,"names":["React","useState","useQuery","Link","motion","Zap","Star","TrendingUp","Plus","Filter","Eye","MousePointer","Users","Crown","Target","ebayService","promotionService","useAuth","PromotedItemCard","PromotionFilterTabs","jsxDEV","_jsxDEV","Trending","_s","user","activeTab","setActiveTab","selectedCategory","setSelectedCategory","data","promotedData","status","promotedStatus","error","promotedError","queryKey","queryFn","feed","getTrendingFeed","console","items","total","enabled","retry","refetchOnWindowFocus","organicData","organicStatus","trendingItems","getTrendingItems","trendingAuctions","trendingCategories","categories","packages","getPackages","getDisplayData","promotedItems","organicItems","mixedItems","promotedIndex","organicIndex","length","push","isPromoted","map","item","displayData","isLoading","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","String","stats","featured","filter","promotionType","promoted","totalImpressions","reduce","sum","_item$promotionMetric","promotionMetrics","impressions","totalClicks","_item$promotionMetric2","clicks","div","initial","opacity","y","animate","transition","duration","category","onClick","charAt","toUpperCase","slice","onTabChange","delay","index","_id","id","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/ericv/final10/client/src/pages/Trending.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Link } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport { \n  Zap, \n  Star, \n  TrendingUp, \n  Plus,\n  Filter,\n  Eye,\n  MousePointer,\n  Users,\n  Crown,\n  Target\n} from \"lucide-react\";\nimport ebayService from \"../services/ebayService\";\nimport promotionService from \"../services/promotionService\";\nimport { useAuth } from \"../context/AuthContext\";\nimport PromotedItemCard from \"../components/PromotedItemCard\";\nimport PromotionFilterTabs from \"../components/PromotionFilterTabs\";\n\nexport default function Trending() {\n  const { user } = useAuth();\n  const [activeTab, setActiveTab] = useState('all');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  \n  // Fetch promoted trending feed\n  const { data: promotedData, status: promotedStatus, error: promotedError } = useQuery({\n    queryKey: [\"promoted-trending\", activeTab, selectedCategory],\n    queryFn: async () => {\n      try {\n        const feed = await promotionService.getTrendingFeed(selectedCategory, 20);\n        return feed;\n      } catch (error) {\n        console.error('Error fetching promoted trending:', error);\n        return { items: [], total: 0 };\n      }\n    },\n    enabled: !!user,\n    retry: 1,\n    refetchOnWindowFocus: false,\n  });\n\n  // Fetch organic trending as fallback\n  const { data: organicData, status: organicStatus } = useQuery({\n    queryKey: [\"organic-trending\", selectedCategory],\n    queryFn: async () => {\n      try {\n        const trendingItems = await ebayService.getTrendingItems(selectedCategory, 20);\n        return {\n          trendingAuctions: trendingItems.items || [],\n          trendingCategories: trendingItems.categories || []\n        };\n      } catch (error) {\n        console.error('Error fetching organic trending:', error);\n        return {\n          trendingAuctions: [],\n          trendingCategories: []\n        };\n      }\n    },\n    enabled: !!user && (activeTab === 'organic' || activeTab === 'all'),\n    retry: 1,\n    refetchOnWindowFocus: false,\n  });\n\n  // Get promotion packages for quick promotion\n  const { data: packages } = useQuery({\n    queryKey: [\"promotion-packages\"],\n    queryFn: () => promotionService.getPackages(),\n    enabled: !!user,\n  });\n\n  // Combine data based on active tab\n  const getDisplayData = () => {\n    if (activeTab === 'all') {\n      // Mix promoted and organic content\n      const promotedItems = promotedData?.items || [];\n      const organicItems = organicData?.trendingAuctions || [];\n      \n      // Interleave items: 2 promoted, 1 organic, repeat\n      const mixedItems = [];\n      let promotedIndex = 0;\n      let organicIndex = 0;\n      \n      while (promotedIndex < promotedItems.length || organicIndex < organicItems.length) {\n        // Add 2 promoted items\n        if (promotedIndex < promotedItems.length) {\n          mixedItems.push({ ...promotedItems[promotedIndex], isPromoted: true });\n          promotedIndex++;\n        }\n        if (promotedIndex < promotedItems.length) {\n          mixedItems.push({ ...promotedItems[promotedIndex], isPromoted: true });\n          promotedIndex++;\n        }\n        \n        // Add 1 organic item\n        if (organicIndex < organicItems.length) {\n          mixedItems.push({ ...organicItems[organicIndex], isPromoted: false });\n          organicIndex++;\n        }\n      }\n      \n      return mixedItems;\n    } else if (activeTab === 'organic') {\n      return (organicData?.trendingAuctions || []).map(item => ({ ...item, isPromoted: false }));\n    } else {\n      // Featured, promoted, etc.\n      return (promotedData?.items || []).map(item => ({ ...item, isPromoted: true }));\n    }\n  };\n\n  const displayData = getDisplayData();\n  const isLoading = promotedStatus === 'loading' || organicStatus === 'loading';\n  const error = promotedError || organicData?.error;\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 text-white\">\n        <div className=\"container mx-auto px-4 py-8\">\n          <div className=\"text-center\">\n            <div className=\"mb-8\">\n              <h1 className=\"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-4\">\n                ðŸ”¥ Trending - Promote Your Listings\n              </h1>\n              <p className=\"text-gray-400 text-lg\">\n                Discover promoted items and trending auctions. Login to see the promotion-powered feed!\n              </p>\n            </div>\n            <div className=\"bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl p-8 border border-purple-500/30\">\n              <h2 className=\"text-2xl font-bold mb-4\">Join the Promotion Revolution!</h2>\n              <p className=\"text-gray-300 mb-6\">\n                Promote your listings and get maximum visibility. Our AI-powered promotion system \n                helps your items reach the right audience at the right time.\n              </p>\n              <Link \n                to=\"/login\" \n                className=\"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105\"\n              >\n                <Zap className=\"h-5 w-5\" />\n                <span>Login to Get Started</span>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 text-white\">\n        <div className=\"container mx-auto px-4 py-8\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent mx-auto mb-4\"></div>\n            <p className=\"text-gray-400\">Loading promoted trending feed...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 text-white\">\n        <div className=\"container mx-auto px-4 py-8\">\n          <div className=\"bg-red-500/20 border border-red-500/30 rounded-xl p-6 text-center\">\n            <h2 className=\"text-xl font-bold text-red-400 mb-2\">Error Loading Trending Feed</h2>\n            <p className=\"text-gray-400\">{String(error)}</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Calculate stats for filter tabs\n  const stats = {\n    featured: displayData.filter(item => item.isPromoted && item.promotionType === 'featured').length,\n    promoted: displayData.filter(item => item.isPromoted && item.promotionType === 'promoted').length,\n    totalImpressions: displayData.reduce((sum, item) => sum + (item.promotionMetrics?.impressions || 0), 0),\n    totalClicks: displayData.reduce((sum, item) => sum + (item.promotionMetrics?.clicks || 0), 0)\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white\">\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center mb-8\"\n        >\n          <h1 className=\"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-4\">\n            ðŸ”¥ Trending - Promote Your Listings\n          </h1>\n          <p className=\"text-gray-400 text-lg mb-6\">\n            Discover promoted items and trending auctions. Mix of premium promotions and organic content.\n          </p>\n          \n          {/* Quick Promote Button */}\n          <Link\n            to=\"/promote\"\n            className=\"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 mb-6\"\n          >\n            <Plus className=\"h-5 w-5\" />\n            <span>Promote Your Listing</span>\n          </Link>\n\n          {/* Category Chips */}\n          <div className=\"flex flex-wrap justify-center gap-2 mb-6\">\n            {['all', 'electronics', 'fashion', 'home', 'automotive', 'sports'].map((category) => (\n              <button\n                key={category}\n                onClick={() => setSelectedCategory(category)}\n                className={`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${\n                  selectedCategory === category\n                    ? 'bg-purple-600 text-white'\n                    : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n                }`}\n              >\n                {category.charAt(0).toUpperCase() + category.slice(1)}\n              </button>\n            ))}\n          </div>\n        </motion.div>\n\n        {/* Promotion Filter Tabs */}\n        <PromotionFilterTabs\n          activeTab={activeTab}\n          onTabChange={setActiveTab}\n          stats={stats}\n        />\n\n        {/* Feed Grid */}\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.6, delay: 0.2 }}\n          className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\"\n        >\n          {displayData.length > 0 ? (\n            displayData.map((item, index) => (\n              <PromotedItemCard\n                key={`${item._id || item.id}-${index}`}\n                item={item}\n                index={index}\n                isPromoted={item.isPromoted}\n              />\n            ))\n          ) : (\n            <div className=\"col-span-full text-center py-12\">\n              <div className=\"bg-gray-800 rounded-xl p-8 border border-gray-700\">\n                <TrendingUp className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-xl font-bold text-gray-300 mb-2\">No Trending Items</h3>\n                <p className=\"text-gray-400 mb-6\">\n                  {activeTab === 'all' \n                    ? \"No promoted or trending items available right now.\"\n                    : `No ${activeTab} items available right now.`\n                  }\n                </p>\n                <Link\n                  to=\"/promote\"\n                  className=\"inline-flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors\"\n                >\n                  <Plus className=\"h-4 w-4\" />\n                  <span>Be the First to Promote</span>\n                </Link>\n              </div>\n            </div>\n          )}\n        </motion.div>\n\n        {/* Load More Button */}\n        {displayData.length >= 20 && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.4 }}\n            className=\"text-center mt-8\"\n          >\n            <button className=\"bg-gray-800 hover:bg-gray-700 text-white font-medium py-3 px-6 rounded-lg border border-gray-600 transition-colors\">\n              Load More Items\n            </button>\n          </motion.div>\n        )}\n\n        {/* Promotion Stats Footer */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.5 }}\n          className=\"mt-12 bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl p-6 border border-purple-500/30\"\n        >\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 text-center\">\n            <div className=\"flex items-center justify-center space-x-3\">\n              <Eye className=\"h-6 w-6 text-purple-400\" />\n              <div>\n                <div className=\"text-2xl font-bold text-white\">{stats.totalImpressions.toLocaleString()}</div>\n                <div className=\"text-sm text-gray-400\">Total Impressions</div>\n              </div>\n            </div>\n            <div className=\"flex items-center justify-center space-x-3\">\n              <MousePointer className=\"h-6 w-6 text-purple-400\" />\n              <div>\n                <div className=\"text-2xl font-bold text-white\">{stats.totalClicks}</div>\n                <div className=\"text-sm text-gray-400\">Total Clicks</div>\n              </div>\n            </div>\n            <div className=\"flex items-center justify-center space-x-3\">\n              <Star className=\"h-6 w-6 text-purple-400\" />\n              <div>\n                <div className=\"text-2xl font-bold text-white\">{displayData.filter(item => item.isPromoted).length}</div>\n                <div className=\"text-sm text-gray-400\">Promoted Items</div>\n              </div>\n            </div>\n          </div>\n        </motion.div>\n      </div>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}