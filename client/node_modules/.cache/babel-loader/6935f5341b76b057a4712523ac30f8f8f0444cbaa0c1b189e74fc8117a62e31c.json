{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ericv\\\\final10\\\\client\\\\src\\\\pages\\\\Register.js\",\n  _s = $RefreshSig$();\n// client/src/pages/Register.js\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, Link, useSearchParams } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const {\n    register\n  } = useAuth();\n  const nav = useNavigate();\n  const [qs] = useSearchParams();\n  const [err, setErr] = useState('');\n  const [form, setForm] = useState({\n    username: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    referralCode: ''\n  });\n\n  // auto-fill ref code if coming from ?ref=XYZ\n  useEffect(() => {\n    const ref = qs.get('ref');\n    if (ref) setForm(f => ({\n      ...f,\n      referralCode: ref\n    }));\n  }, [qs]);\n  async function onSubmit(e) {\n    e.preventDefault();\n    setErr('');\n    try {\n      await register(form);\n      nav('/'); // go to dashboard\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setErr((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || 'Registration failed');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-4\",\n      children: \"Create your account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3 text-red-400\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      className: \"space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"w-full p-3 rounded bg-gray-900\",\n        placeholder: \"Username\",\n        value: form.username,\n        onChange: e => setForm({\n          ...form,\n          username: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"p-3 rounded bg-gray-900\",\n          placeholder: \"First name\",\n          value: form.firstName,\n          onChange: e => setForm({\n            ...form,\n            firstName: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"p-3 rounded bg-gray-900\",\n          placeholder: \"Last name\",\n          value: form.lastName,\n          onChange: e => setForm({\n            ...form,\n            lastName: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"w-full p-3 rounded bg-gray-900\",\n        placeholder: \"Email\",\n        value: form.email,\n        onChange: e => setForm({\n          ...form,\n          email: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"w-full p-3 rounded bg-gray-900\",\n        placeholder: \"Password\",\n        type: \"password\",\n        value: form.password,\n        onChange: e => setForm({\n          ...form,\n          password: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"w-full p-3 rounded bg-gray-900\",\n        placeholder: \"Referral code (optional)\",\n        value: form.referralCode,\n        onChange: e => setForm({\n          ...form,\n          referralCode: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-full p-3 rounded bg-yellow-400 text-black font-semibold\",\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-3 text-sm text-gray-400\",\n      children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n        className: \"underline\",\n        to: \"/login\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 74\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"l2V2oEEB0eF2Eh4I+xiqLhaNLoA=\", false, function () {\n  return [useAuth, useNavigate, useSearchParams];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Link","useSearchParams","useAuth","jsxDEV","_jsxDEV","Register","_s","register","nav","qs","err","setErr","form","setForm","username","firstName","lastName","email","password","referralCode","ref","get","f","onSubmit","e","preventDefault","_e$response","_e$response$data","response","data","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","type","to","_c","$RefreshReg$"],"sources":["C:/Users/ericv/final10/client/src/pages/Register.js"],"sourcesContent":["// client/src/pages/Register.js\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, Link, useSearchParams } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\n\nexport default function Register() {\n  const { register } = useAuth();\n  const nav = useNavigate();\n  const [qs] = useSearchParams();\n  const [err, setErr] = useState('');\n  const [form, setForm] = useState({\n    username: '', firstName: '', lastName: '',\n    email: '', password: '', referralCode: ''\n  });\n\n  // auto-fill ref code if coming from ?ref=XYZ\n  useEffect(() => {\n    const ref = qs.get('ref');\n    if (ref) setForm(f => ({ ...f, referralCode: ref }));\n  }, [qs]);\n\n  async function onSubmit(e) {\n    e.preventDefault();\n    setErr('');\n    try {\n      await register(form);\n      nav('/'); // go to dashboard\n    } catch (e) {\n      setErr(e?.response?.data?.message || 'Registration failed');\n    }\n  }\n\n  return (\n    <div className=\"max-w-md mx-auto p-6\">\n      <h1 className=\"text-3xl font-bold mb-4\">Create your account</h1>\n      {err && <div className=\"mb-3 text-red-400\">{err}</div>}\n      <form onSubmit={onSubmit} className=\"space-y-3\">\n        <input className=\"w-full p-3 rounded bg-gray-900\" placeholder=\"Username\"\n               value={form.username} onChange={e=>setForm({...form, username:e.target.value})}/>\n        <div className=\"grid grid-cols-2 gap-3\">\n          <input className=\"p-3 rounded bg-gray-900\" placeholder=\"First name\"\n                 value={form.firstName} onChange={e=>setForm({...form, firstName:e.target.value})}/>\n          <input className=\"p-3 rounded bg-gray-900\" placeholder=\"Last name\"\n                 value={form.lastName} onChange={e=>setForm({...form, lastName:e.target.value})}/>\n        </div>\n        <input className=\"w-full p-3 rounded bg-gray-900\" placeholder=\"Email\"\n               value={form.email} onChange={e=>setForm({...form, email:e.target.value})}/>\n        <input className=\"w-full p-3 rounded bg-gray-900\" placeholder=\"Password\" type=\"password\"\n               value={form.password} onChange={e=>setForm({...form, password:e.target.value})}/>\n        <input className=\"w-full p-3 rounded bg-gray-900\" placeholder=\"Referral code (optional)\"\n               value={form.referralCode} onChange={e=>setForm({...form, referralCode:e.target.value})}/>\n        <button className=\"w-full p-3 rounded bg-yellow-400 text-black font-semibold\">Sign up</button>\n      </form>\n      <p className=\"mt-3 text-sm text-gray-400\">Already have an account? <Link className=\"underline\" to=\"/login\">Login</Link></p>\n    </div>\n  );\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}