{"ast":null,"code":"import axios from 'axios';\nexport const api = axios.create({\n  baseURL: 'http://localhost:5000/api',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// set/remove token globally\nexport function setAuthToken(token) {\n  if (token) {\n    api.defaults.headers.common.Authorization = `Bearer ${token}`;\n    localStorage.setItem('f10_token', token);\n  } else {\n    delete api.defaults.headers.common.Authorization;\n    localStorage.removeItem('f10_token');\n  }\n}\n\n// --- Auth ---\nexport async function registerUser(payload) {\n  const {\n    data\n  } = await api.post('/auth/signup', payload);\n  return data;\n}\nexport async function loginUser({\n  email,\n  password\n}) {\n  const {\n    data\n  } = await api.post('/auth/login', {\n    email,\n    password\n  });\n  return data;\n}\n\n// --- Points ---\nexport async function getMyPoints() {\n  const {\n    data\n  } = await api.get('/points/me');\n  return data; // { balance, history }\n}\nexport async function getPointsHistory() {\n  const {\n    data\n  } = await api.get('/points/history');\n  return data; // [ { amount, note, createdAt }, ... ]\n}\nexport async function claimDailyLogin() {\n  const {\n    data\n  } = await api.post('/points/daily');\n  return data; // { newBalance, added }\n}\nexport async function fetchFeed(params = {}) {\n  const {\n    data\n  } = await api.get('/feed', {\n    params\n  });\n  return data; // { items, nextCursor }\n}\nexport async function triggerIngest() {\n  const {\n    data\n  } = await api.post('/feed/ingest');\n  return data;\n}\nexport async function submitSocialPost({\n  url,\n  caption,\n  token\n}) {\n  const {\n    data\n  } = await api.post('/feed/submit', {\n    url,\n    caption\n  }, {\n    headers: token ? {\n      Authorization: `Bearer ${token}`\n    } : {}\n  });\n  return data;\n}","map":{"version":3,"names":["axios","api","create","baseURL","headers","setAuthToken","token","defaults","common","Authorization","localStorage","setItem","removeItem","registerUser","payload","data","post","loginUser","email","password","getMyPoints","get","getPointsHistory","claimDailyLogin","fetchFeed","params","triggerIngest","submitSocialPost","url","caption"],"sources":["C:/Users/ericv/final10/client/src/lib/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const api = axios.create({\r\n  baseURL: 'http://localhost:5000/api',\r\n  headers: { 'Content-Type': 'application/json' },\r\n});\r\n\r\n// set/remove token globally\r\nexport function setAuthToken(token) {\r\n  if (token) {\r\n    api.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n    localStorage.setItem('f10_token', token);\r\n  } else {\r\n    delete api.defaults.headers.common.Authorization;\r\n    localStorage.removeItem('f10_token');\r\n  }\r\n}\r\n\r\n// --- Auth ---\r\nexport async function registerUser(payload) {\r\n  const { data } = await api.post('/auth/signup', payload);\r\n  return data;\r\n}\r\n\r\nexport async function loginUser({ email, password }) {\r\n  const { data } = await api.post('/auth/login', { email, password });\r\n  return data;\r\n}\r\n\r\n// --- Points ---\r\nexport async function getMyPoints() {\r\n  const { data } = await api.get('/points/me');\r\n  return data; // { balance, history }\r\n}\r\n\r\nexport async function getPointsHistory() {\r\n  const { data } = await api.get('/points/history');\r\n  return data; // [ { amount, note, createdAt }, ... ]\r\n}\r\n\r\nexport async function claimDailyLogin() {\r\n  const { data } = await api.post('/points/daily');\r\n  return data; // { newBalance, added }\r\n}\r\nexport async function fetchFeed(params = {}) {\r\n  const { data } = await api.get('/feed', { params });\r\n  return data; // { items, nextCursor }\r\n}\r\n\r\nexport async function triggerIngest() {\r\n  const { data } = await api.post('/feed/ingest');\r\n  return data;\r\n}\r\n\r\nexport async function submitSocialPost({ url, caption, token }) {\r\n  const { data } = await api.post('/feed/submit', { url, caption }, {\r\n    headers: token ? { Authorization: `Bearer ${token}` } : {}\r\n  });\r\n  return data;\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC9BC,OAAO,EAAE,2BAA2B;EACpCC,OAAO,EAAE;IAAE,cAAc,EAAE;EAAmB;AAChD,CAAC,CAAC;;AAEF;AACA,OAAO,SAASC,YAAYA,CAACC,KAAK,EAAE;EAClC,IAAIA,KAAK,EAAE;IACTL,GAAG,CAACM,QAAQ,CAACH,OAAO,CAACI,MAAM,CAACC,aAAa,GAAG,UAAUH,KAAK,EAAE;IAC7DI,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEL,KAAK,CAAC;EAC1C,CAAC,MAAM;IACL,OAAOL,GAAG,CAACM,QAAQ,CAACH,OAAO,CAACI,MAAM,CAACC,aAAa;IAChDC,YAAY,CAACE,UAAU,CAAC,WAAW,CAAC;EACtC;AACF;;AAEA;AACA,OAAO,eAAeC,YAAYA,CAACC,OAAO,EAAE;EAC1C,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMd,GAAG,CAACe,IAAI,CAAC,cAAc,EAAEF,OAAO,CAAC;EACxD,OAAOC,IAAI;AACb;AAEA,OAAO,eAAeE,SAASA,CAAC;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAE;EACnD,MAAM;IAAEJ;EAAK,CAAC,GAAG,MAAMd,GAAG,CAACe,IAAI,CAAC,aAAa,EAAE;IAAEE,KAAK;IAAEC;EAAS,CAAC,CAAC;EACnE,OAAOJ,IAAI;AACb;;AAEA;AACA,OAAO,eAAeK,WAAWA,CAAA,EAAG;EAClC,MAAM;IAAEL;EAAK,CAAC,GAAG,MAAMd,GAAG,CAACoB,GAAG,CAAC,YAAY,CAAC;EAC5C,OAAON,IAAI,CAAC,CAAC;AACf;AAEA,OAAO,eAAeO,gBAAgBA,CAAA,EAAG;EACvC,MAAM;IAAEP;EAAK,CAAC,GAAG,MAAMd,GAAG,CAACoB,GAAG,CAAC,iBAAiB,CAAC;EACjD,OAAON,IAAI,CAAC,CAAC;AACf;AAEA,OAAO,eAAeQ,eAAeA,CAAA,EAAG;EACtC,MAAM;IAAER;EAAK,CAAC,GAAG,MAAMd,GAAG,CAACe,IAAI,CAAC,eAAe,CAAC;EAChD,OAAOD,IAAI,CAAC,CAAC;AACf;AACA,OAAO,eAAeS,SAASA,CAACC,MAAM,GAAG,CAAC,CAAC,EAAE;EAC3C,MAAM;IAAEV;EAAK,CAAC,GAAG,MAAMd,GAAG,CAACoB,GAAG,CAAC,OAAO,EAAE;IAAEI;EAAO,CAAC,CAAC;EACnD,OAAOV,IAAI,CAAC,CAAC;AACf;AAEA,OAAO,eAAeW,aAAaA,CAAA,EAAG;EACpC,MAAM;IAAEX;EAAK,CAAC,GAAG,MAAMd,GAAG,CAACe,IAAI,CAAC,cAAc,CAAC;EAC/C,OAAOD,IAAI;AACb;AAEA,OAAO,eAAeY,gBAAgBA,CAAC;EAAEC,GAAG;EAAEC,OAAO;EAAEvB;AAAM,CAAC,EAAE;EAC9D,MAAM;IAAES;EAAK,CAAC,GAAG,MAAMd,GAAG,CAACe,IAAI,CAAC,cAAc,EAAE;IAAEY,GAAG;IAAEC;EAAQ,CAAC,EAAE;IAChEzB,OAAO,EAAEE,KAAK,GAAG;MAAEG,aAAa,EAAE,UAAUH,KAAK;IAAG,CAAC,GAAG,CAAC;EAC3D,CAAC,CAAC;EACF,OAAOS,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}