{"ast":null,"code":"import axios from 'axios';\nconst BASE = '/api';\nfunction authHeaders() {\n  const t = localStorage.getItem('token');\n  return t ? {\n    Authorization: `Bearer ${t}`\n  } : {};\n}\n\n// login / signup (already done)\nexport async function loginUser(email, password) {\n  const {\n    data\n  } = await axios.post(`${BASE}/auth/login`, {\n    email,\n    password\n  });\n  localStorage.setItem('token', data.token);\n  return data.user;\n}\nexport async function registerUser(body) {\n  const {\n    data\n  } = await axios.post(`${BASE}/auth/signup`, body);\n  localStorage.setItem('token', data.token);\n  return data.user;\n}\n\n// points\nexport async function getMyPoints() {\n  const {\n    data\n  } = await axios.get(`${BASE}/points/me`, {\n    headers: authHeaders()\n  });\n  return data; // { balance, history }\n}\nexport async function claimDailyLogin() {\n  const {\n    data\n  } = await axios.post(`${BASE}/points/daily`, {}, {\n    headers: authHeaders()\n  });\n  return data; // { newBalance, earned, activity }\n}\nexport async function getPointsHistory() {\n  const {\n    data\n  } = await axios.get(`${BASE}/points/history`, {\n    headers: authHeaders()\n  });\n  return data; // [{_id, type, amount, note, createdAt}, ...]\n}\nexport async function redeemPoints(amount) {\n  const {\n    data\n  } = await axios.post(`${BASE}/points/redeem`, {\n    amount\n  }, {\n    headers: authHeaders()\n  });\n  return data;\n}\n\n// ---- (Optional) ALERTS – keep these to satisfy existing imports ----\nexport async function getAlerts() {\n  const {\n    data\n  } = await api.get('/alerts');\n  return data;\n}\nexport async function createAlert(payload) {\n  const {\n    data\n  } = await api.post('/alerts', payload);\n  return data;\n}\nexport async function deleteAlert(id) {\n  const {\n    data\n  } = await api.delete(`/alerts/${id}`);\n  return data;\n}\nexport async function toggleAlert(id, enabled) {\n  const {\n    data\n  } = await api.patch(`/alerts/${id}`, {\n    enabled\n  });\n  return data;\n}","map":{"version":3,"names":["axios","BASE","authHeaders","t","localStorage","getItem","Authorization","loginUser","email","password","data","post","setItem","token","user","registerUser","body","getMyPoints","get","headers","claimDailyLogin","getPointsHistory","redeemPoints","amount","getAlerts","api","createAlert","payload","deleteAlert","id","delete","toggleAlert","enabled","patch"],"sources":["C:/Users/ericv/final10/client/src/lib/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst BASE = '/api';\r\n\r\nfunction authHeaders() {\r\n  const t = localStorage.getItem('token');\r\n  return t ? { Authorization: `Bearer ${t}` } : {};\r\n}\r\n\r\n// login / signup (already done)\r\nexport async function loginUser(email, password) {\r\n  const { data } = await axios.post(`${BASE}/auth/login`, { email, password });\r\n  localStorage.setItem('token', data.token);\r\n  return data.user;\r\n}\r\nexport async function registerUser(body) {\r\n  const { data } = await axios.post(`${BASE}/auth/signup`, body);\r\n  localStorage.setItem('token', data.token);\r\n  return data.user;\r\n}\r\n\r\n// points\r\nexport async function getMyPoints() {\r\n  const { data } = await axios.get(`${BASE}/points/me`, { headers: authHeaders() });\r\n  return data; // { balance, history }\r\n}\r\n\r\nexport async function claimDailyLogin() {\r\n  const { data } = await axios.post(`${BASE}/points/daily`, {}, { headers: authHeaders() });\r\n  return data; // { newBalance, earned, activity }\r\n}\r\n\r\nexport async function getPointsHistory() {\r\n  const { data } = await axios.get(`${BASE}/points/history`, { headers: authHeaders() });\r\n  return data; // [{_id, type, amount, note, createdAt}, ...]\r\n}\r\n\r\nexport async function redeemPoints(amount) {\r\n  const { data } = await axios.post(`${BASE}/points/redeem`, { amount }, { headers: authHeaders() });\r\n  return data;\r\n}\r\n\r\n// ---- (Optional) ALERTS – keep these to satisfy existing imports ----\r\nexport async function getAlerts() {\r\n  const { data } = await api.get('/alerts');\r\n  return data;\r\n}\r\nexport async function createAlert(payload) {\r\n  const { data } = await api.post('/alerts', payload);\r\n  return data;\r\n}\r\nexport async function deleteAlert(id) {\r\n  const { data } = await api.delete(`/alerts/${id}`);\r\n  return data;\r\n}\r\nexport async function toggleAlert(id, enabled) {\r\n  const { data } = await api.patch(`/alerts/${id}`, { enabled });\r\n  return data;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}