{"ast":null,"code":"import ProductFeed from'./pages/ProductFeed';import Trending from'./pages/Trending';import VideoScanner from'./components/VideoScanner';import Navigation from'./components/Navigation';import AuthDebugger from'./components/AuthDebugger';import Final10Logo from'./components/Final10Logo';import'./styles/ProductFeed.css';import'./styles/browser-compatibility.css';import{QueryClient,QueryClientProvider}from'@tanstack/react-query';import React from\"react\";import{Routes,Route,Link,NavLink,Navigate}from\"react-router-dom\";import{useAuth}from\"./context/AuthContext\";/* Pages (use real ones as you build them) */import PointsPage from\"./pages/PointsPage\";// protected\nimport Dashboard from\"./pages/Dashboard\";// public (for now)\nimport Login from\"./pages/Login\";// public\nimport Register from\"./pages/Register\";// public\nimport Auctions from\"./pages/Auctions\";// public\nimport Alerts from\"./pages/Alerts\";// protected\nimport AuctionDetail from\"./pages/AuctionDetail\";// public\nimport CreateAuction from\"./pages/CreateAuction\";// protected\nimport Profile from\"./pages/Profile\";// protected\nimport Premium from\"./pages/Premium\";// protected\nimport Pricing from\"./pages/Pricing\";// public\nimport LocalDeals from\"./pages/LocalDeals\";// protected\n/* Protect any route by requiring a token/user */import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function ProtectedRoute(_ref){let{children}=_ref;const{user,loading}=useAuth();if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:\"Loading\\u2026\"});if(!user)return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});return children;}// Create a client for react-query\nconst queryClient=new QueryClient({defaultOptions:{queries:{staleTime:5*60*1000,// 5 minutes\ncacheTime:10*60*1000// 10 minutes\n}}});export default function App(){var _user$firstName;const{user,logout}=useAuth();const link=\"px-3 py-2 rounded hover:opacity-80 transition\";const active=_ref2=>{let{isActive}=_ref2;return(isActive?\"font-semibold underline \":\"\")+link;};return/*#__PURE__*/_jsx(QueryClientProvider,{client:queryClient,children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-app min-h-screen text-white\",children:[/*#__PURE__*/_jsx(AuthDebugger,{}),/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"header\",{className:\"nav container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-6 py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(Final10Logo,{size:\"medium\",showTaglines:false})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-3\",children:!user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-ghost\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-primary\",children:\"Sign Up\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm opacity-80\",children:(_user$firstName=user.firstName)!==null&&_user$firstName!==void 0?_user$firstName:user.username}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-ghost\",onClick:logout,children:\"Logout\"})]})})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"container px-6 pb-20\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auctions\",element:/*#__PURE__*/_jsx(Auctions,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auction/:id\",element:/*#__PURE__*/_jsx(AuctionDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/feed\",element:/*#__PURE__*/_jsx(ProductFeed,{})}),/*#__PURE__*/_jsx(Route,{path:\"/trending\",element:/*#__PURE__*/_jsx(Trending,{})}),/*#__PURE__*/_jsx(Route,{path:\"/scanner\",element:/*#__PURE__*/_jsx(VideoScanner,{})}),/*#__PURE__*/_jsx(Route,{path:\"/pricing\",element:/*#__PURE__*/_jsx(Pricing,{})}),/*#__PURE__*/_jsx(Route,{path:\"/points\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(PointsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/alerts\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Alerts,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/create-auction\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CreateAuction,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/premium\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Premium,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/local-deals\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(LocalDeals,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:\"Not found\"})})]})})]})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}