{"ast":null,"code":"import axios from \"axios\";\nconst API_BASE = process.env.REACT_APP_API_BASE || '/api';\nexport const api = axios.create({\n  baseURL: API_BASE,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Use ONE consistent key everywhere\nexport const STORAGE_KEY = \"f10_token\";\n\n/** Attach/remove token on axios + persist in localStorage */\nexport function setAuthToken(token) {\n  if (token) {\n    localStorage.setItem(STORAGE_KEY, token);\n    api.defaults.headers.common.Authorization = `Bearer ${token}`;\n  } else {\n    localStorage.removeItem(STORAGE_KEY);\n    delete api.defaults.headers.common.Authorization;\n  }\n}\n\n// hydrate on load\nconst saved = localStorage.getItem(STORAGE_KEY);\nif (saved) setAuthToken(saved);\n\n/** ---- Auth ---- **/\nexport async function loginUser({\n  email,\n  password\n}) {\n  const {\n    data\n  } = await api.post(\"/auth/login\", {\n    email,\n    password\n  });\n  setAuthToken(data.token);\n  return data.user;\n}\nexport async function registerUser(payload) {\n  const {\n    data\n  } = await api.post(\"/auth/signup\", payload);\n  setAuthToken(data.token);\n  return data.user;\n}\n\n/** NEW: get current user from token */\nexport async function getMe() {\n  const {\n    data\n  } = await api.get(\"/auth/me\");\n  return data; // { id, email, username, ... }\n}\n\n/** ---- Points ---- **/\nexport async function getMyPoints() {\n  const {\n    data\n  } = await api.get(\"/points/me\");\n  return data; // { balance, history }\n}\nexport async function claimDailyLogin() {\n  const {\n    data\n  } = await api.post(\"/auctions/claim-daily-login\");\n  return data; // { newBalance, added } or { message }\n}\n\n/** ---- Alerts ---- **/\nexport async function getAlerts() {\n  const {\n    data\n  } = await api.get(\"/alerts\");\n  return data;\n}\nexport async function createAlert(alertData) {\n  const {\n    data\n  } = await api.post(\"/alerts\", alertData);\n  return data;\n}\nexport async function toggleAlert(alertId) {\n  const {\n    data\n  } = await api.patch(`/alerts/${alertId}/toggle`);\n  return data;\n}\nexport async function deleteAlert(alertId) {\n  const {\n    data\n  } = await api.delete(`/alerts/${alertId}`);\n  return data;\n}\n\n/** ---- Daily Tasks ---- **/\nexport async function getDailyTasks() {\n  const {\n    data\n  } = await api.get(\"/auctions/daily-tasks\");\n  return data;\n}\nexport async function watchAd() {\n  const {\n    data\n  } = await api.post(\"/auctions/watch-ad\");\n  return data;\n}\nexport async function trackAppShare(shareUrl, platform) {\n  const {\n    data\n  } = await api.post(\"/auctions/track-app-share\", {\n    shareUrl,\n    platform\n  });\n  return data;\n}\nexport async function trackProductShare(productId, productTitle, shareUrl, platform) {\n  const {\n    data\n  } = await api.post(\"/auctions/track-product-share\", {\n    productId,\n    productTitle,\n    shareUrl,\n    platform\n  });\n  return data;\n}\nexport async function completeSocialPost(platform, postUrl) {\n  const {\n    data\n  } = await api.post(\"/auctions/complete-social-post\", {\n    platform,\n    postUrl\n  });\n  return data;\n}\n\n/** ---- Level System ---- **/\nexport async function getLevelInfo() {\n  const {\n    data\n  } = await api.get(\"/levels/me\");\n  return data;\n}\nexport async function getLevelLeaderboard(type = 'level', limit = 50) {\n  const {\n    data\n  } = await api.get(\"/levels/leaderboard\", {\n    params: {\n      type,\n      limit\n    }\n  });\n  return data;\n}\nexport async function getMilestones() {\n  const {\n    data\n  } = await api.get(\"/levels/milestones\");\n  return data;\n}\nexport async function getLevelStats() {\n  const {\n    data\n  } = await api.get(\"/levels/stats\");\n  return data;\n}","map":{"version":3,"names":["axios","API_BASE","process","env","REACT_APP_API_BASE","api","create","baseURL","headers","STORAGE_KEY","setAuthToken","token","localStorage","setItem","defaults","common","Authorization","removeItem","saved","getItem","loginUser","email","password","data","post","user","registerUser","payload","getMe","get","getMyPoints","claimDailyLogin","getAlerts","createAlert","alertData","toggleAlert","alertId","patch","deleteAlert","delete","getDailyTasks","watchAd","trackAppShare","shareUrl","platform","trackProductShare","productId","productTitle","completeSocialPost","postUrl","getLevelInfo","getLevelLeaderboard","type","limit","params","getMilestones","getLevelStats"],"sources":["C:/Users/ericv/final10/client/src/lib/api.js"],"sourcesContent":["import axios from \"axios\";\nconst API_BASE = process.env.REACT_APP_API_BASE || '/api';\nexport const api = axios.create({\n  baseURL: API_BASE,\n  headers: { 'Content-Type': 'application/json' }\n});\n\n\n// Use ONE consistent key everywhere\nexport const STORAGE_KEY = \"f10_token\";\n\n/** Attach/remove token on axios + persist in localStorage */\nexport function setAuthToken(token) {\n  if (token) {\n    localStorage.setItem(STORAGE_KEY, token);\n    api.defaults.headers.common.Authorization = `Bearer ${token}`;\n  } else {\n    localStorage.removeItem(STORAGE_KEY);\n    delete api.defaults.headers.common.Authorization;\n  }\n}\n\n// hydrate on load\nconst saved = localStorage.getItem(STORAGE_KEY);\nif (saved) setAuthToken(saved);\n\n/** ---- Auth ---- **/\nexport async function loginUser({ email, password }) {\n  const { data } = await api.post(\"/auth/login\", { email, password });\n  setAuthToken(data.token);\n  return data.user;\n}\n\nexport async function registerUser(payload) {\n  const { data } = await api.post(\"/auth/signup\", payload);\n  setAuthToken(data.token);\n  return data.user;\n}\n\n/** NEW: get current user from token */\nexport async function getMe() {\n  const { data } = await api.get(\"/auth/me\");\n  return data; // { id, email, username, ... }\n}\n\n/** ---- Points ---- **/\nexport async function getMyPoints() {\n  const { data } = await api.get(\"/points/me\");\n  return data; // { balance, history }\n}\n\nexport async function claimDailyLogin() {\n  const { data } = await api.post(\"/auctions/claim-daily-login\");\n  return data; // { newBalance, added } or { message }\n}\n\n/** ---- Alerts ---- **/\nexport async function getAlerts() {\n  const { data } = await api.get(\"/alerts\");\n  return data;\n}\n\nexport async function createAlert(alertData) {\n  const { data } = await api.post(\"/alerts\", alertData);\n  return data;\n}\n\nexport async function toggleAlert(alertId) {\n  const { data } = await api.patch(`/alerts/${alertId}/toggle`);\n  return data;\n}\n\nexport async function deleteAlert(alertId) {\n  const { data } = await api.delete(`/alerts/${alertId}`);\n  return data;\n}\n\n/** ---- Daily Tasks ---- **/\nexport async function getDailyTasks() {\n  const { data } = await api.get(\"/auctions/daily-tasks\");\n  return data;\n}\n\nexport async function watchAd() {\n  const { data } = await api.post(\"/auctions/watch-ad\");\n  return data;\n}\n\nexport async function trackAppShare(shareUrl, platform) {\n  const { data } = await api.post(\"/auctions/track-app-share\", {\n    shareUrl,\n    platform\n  });\n  return data;\n}\n\nexport async function trackProductShare(productId, productTitle, shareUrl, platform) {\n  const { data } = await api.post(\"/auctions/track-product-share\", {\n    productId,\n    productTitle,\n    shareUrl,\n    platform\n  });\n  return data;\n}\n\nexport async function completeSocialPost(platform, postUrl) {\n  const { data } = await api.post(\"/auctions/complete-social-post\", {\n    platform,\n    postUrl\n  });\n  return data;\n}\n\n/** ---- Level System ---- **/\nexport async function getLevelInfo() {\n  const { data } = await api.get(\"/levels/me\");\n  return data;\n}\n\nexport async function getLevelLeaderboard(type = 'level', limit = 50) {\n  const { data } = await api.get(\"/levels/leaderboard\", {\n    params: { type, limit }\n  });\n  return data;\n}\n\nexport async function getMilestones() {\n  const { data } = await api.get(\"/levels/milestones\");\n  return data;\n}\n\nexport async function getLevelStats() {\n  const { data } = await api.get(\"/levels/stats\");\n  return data;\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}