{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ericv\\\\final10\\\\client\\\\src\\\\pages\\\\PromotionPayment.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { motion } from 'framer-motion';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, PaymentElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport { ArrowLeft, CreditCard, Check, AlertCircle, Loader, Shield, Lock } from 'lucide-react';\nimport promotionService from '../services/promotionService';\nimport { useAuth } from '../context/AuthContext';\n\n// Initialize Stripe (with fallback for testing)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst stripePromise = process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY && process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY.startsWith('pk_') ? loadStripe(process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY) : null;\nconst MockPaymentForm = ({\n  promotion,\n  onSuccess,\n  onError\n}) => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleMockPayment = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Simulate payment processing\n      await new Promise(resolve => setTimeout(resolve, 2000));\n\n      // Mock successful payment\n      const mockPaymentData = {\n        paymentIntentId: `pi_mock_${Date.now()}`,\n        amount: promotion.budget,\n        status: 'succeeded'\n      };\n      await promotionService.confirmPayment({\n        paymentId: promotion.paymentId,\n        paymentIntentId: mockPaymentData.paymentIntentId\n      });\n      onSuccess(mockPaymentData);\n    } catch (err) {\n      setError(err.message || 'Payment failed');\n      onError(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"payment-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-element-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-yellow-400 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(CreditCard, {\n            className: \"h-12 w-12 mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-white mb-2\",\n          children: \"Mock Payment Mode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 mb-4\",\n          children: \"Stripe is not configured. This is a test payment that will simulate a successful transaction.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-700 rounded-lg p-4 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-300\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Promotion:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white\",\n                children: promotion.promotionPackage.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Amount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white\",\n                children: [\"$\", promotion.budget]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Duration:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white\",\n                children: [promotion.duration, \"h\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleMockPayment,\n      disabled: loading,\n      className: \"payment-button\",\n      children: loading ? /*#__PURE__*/_jsxDEV(Loader, {\n        className: \"w-5 h-5 animate-spin mx-auto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), \"Complete Mock Payment - $\", promotion.budget]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(MockPaymentForm, \"Iz3ozxQ+abMaAIcGIvU8cKUcBeo=\");\n_c = MockPaymentForm;\nconst PaymentForm = ({\n  promotion,\n  onSuccess,\n  onError\n}) => {\n  _s2();\n  const stripe = useStripe();\n  const elements = useElements();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!stripe || !elements) {\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const {\n        error: submitError\n      } = await elements.submit();\n      if (submitError) {\n        setError(submitError.message);\n        setLoading(false);\n        return;\n      }\n      const {\n        paymentIntent,\n        error: confirmError\n      } = await stripe.confirmPayment({\n        elements,\n        confirmParams: {\n          return_url: `${window.location.origin}/promotion/${promotion._id}/success`\n        },\n        redirect: 'if_required'\n      });\n      if (confirmError) {\n        setError(confirmError.message);\n      } else if (paymentIntent.status === 'succeeded') {\n        // Confirm payment on our server\n        await promotionService.confirmPayment({\n          paymentId: promotion.paymentId,\n          paymentIntentId: paymentIntent.id\n        });\n        onSuccess(paymentIntent);\n      }\n    } catch (err) {\n      setError(err.message || 'Payment failed');\n      onError(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"payment-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-element-container\",\n      children: /*#__PURE__*/_jsxDEV(PaymentElement, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: !stripe || loading,\n      className: \"payment-button\",\n      children: loading ? /*#__PURE__*/_jsxDEV(Loader, {\n        className: \"w-5 h-5 animate-spin mx-auto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this), \"Pay $\", promotion.budget]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n_s2(PaymentForm, \"OSD33JfIILZ1T7xA7ylz1NjOWy4=\", false, function () {\n  return [useStripe, useElements];\n});\n_c2 = PaymentForm;\nconst PromotionPayment = () => {\n  _s3();\n  var _promotion$promotionP;\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const queryClient = useQueryClient();\n  const [clientSecret, setClientSecret] = useState(null);\n  const [paymentData, setPaymentData] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Fetch promotion details\n  const {\n    data: promotion,\n    isLoading\n  } = useQuery({\n    queryKey: ['promotion', id],\n    queryFn: () => promotionService.getPromotion(id),\n    enabled: !!id && !!user\n  });\n\n  // Create payment intent mutation\n  const createPaymentIntentMutation = useMutation({\n    mutationFn: () => promotionService.createPaymentIntent(id),\n    onSuccess: data => {\n      setClientSecret(data.clientSecret);\n      setPaymentData(data);\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to create payment intent');\n    }\n  });\n\n  // Confirm payment mutation\n  const confirmPaymentMutation = useMutation({\n    mutationFn: paymentData => promotionService.confirmPayment(paymentData),\n    onSuccess: () => {\n      setSuccess(true);\n      // Invalidate and refetch relevant queries\n      queryClient.invalidateQueries(['promotion', id]);\n      queryClient.invalidateQueries(['my-promotions']);\n      queryClient.invalidateQueries(['promoted-trending']);\n    },\n    onError: error => {\n      var _error$response2, _error$response2$data;\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Payment confirmation failed');\n    }\n  });\n  useEffect(() => {\n    if (promotion && promotion.status === 'pending') {\n      createPaymentIntentMutation.mutate();\n    }\n  }, [promotion]);\n  const handlePaymentSuccess = paymentIntent => {\n    confirmPaymentMutation.mutate({\n      paymentId: paymentData.paymentId,\n      paymentIntentId: paymentIntent.id\n    });\n  };\n  const handlePaymentError = error => {\n    setError(error.message || 'Payment failed');\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-900 text-white flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold mb-4\",\n          children: \"Please login to complete payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/login'),\n          className: \"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this);\n  }\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-900 text-white flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Loader, {\n          className: \"h-8 w-8 animate-spin mx-auto mb-4 text-purple-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400\",\n          children: \"Loading promotion details...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this);\n  }\n  if (!promotion) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-900 text-white flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold mb-4\",\n          children: \"Promotion not found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/trending'),\n          className: \"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg\",\n          children: \"Back to Trending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this);\n  }\n  if (success) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-900 text-white flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          scale: 0.9\n        },\n        animate: {\n          opacity: 1,\n          scale: 1\n        },\n        className: \"text-center max-w-md mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-500/20 border border-green-500/30 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6\",\n          children: /*#__PURE__*/_jsxDEV(Check, {\n            className: \"h-10 w-10 text-green-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold mb-4 text-green-400\",\n          children: \"Payment Successful!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 mb-6\",\n          children: \"Your promotion has been activated and is now live on the Trending page.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/trending'),\n            className: \"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300\",\n            children: \"View Your Promotion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/promotion-dashboard'),\n            className: \"w-full bg-gray-700 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-lg transition-colors\",\n            children: \"Manage Promotions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: -20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/promote-listing'),\n            className: \"p-2 hover:bg-gray-800 rounded-lg transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\",\n              children: \"Complete Payment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400\",\n              children: \"Secure payment for your promotion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              x: -20\n            },\n            animate: {\n              opacity: 1,\n              x: 0\n            },\n            className: \"bg-gray-800 rounded-xl p-8 border border-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(Shield, {\n                className: \"h-5 w-5 text-green-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-green-400 font-medium\",\n                children: \"Secure Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                  className: \"h-5 w-5 text-red-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-400\",\n                  children: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), createPaymentIntentMutation.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8\",\n              children: [/*#__PURE__*/_jsxDEV(Loader, {\n                className: \"h-8 w-8 animate-spin mx-auto mb-4 text-purple-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400\",\n                children: \"Preparing payment...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this) : clientSecret && paymentData ? stripePromise ? /*#__PURE__*/_jsxDEV(Elements, {\n              stripe: stripePromise,\n              options: {\n                clientSecret\n              },\n              children: /*#__PURE__*/_jsxDEV(PaymentForm, {\n                promotion: {\n                  ...promotion,\n                  paymentId: paymentData.paymentId\n                },\n                onSuccess: handlePaymentSuccess,\n                onError: handlePaymentError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(MockPaymentForm, {\n              promotion: {\n                ...promotion,\n                paymentId: paymentData.paymentId\n              },\n              onSuccess: handlePaymentSuccess,\n              onError: handlePaymentError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400\",\n                children: \"Unable to process payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              x: 20\n            },\n            animate: {\n              opacity: 1,\n              x: 0\n            },\n            className: \"bg-gray-800 rounded-xl p-6 border border-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-bold mb-4\",\n              children: \"Payment Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Promotion Package:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-white font-medium\",\n                  children: (_promotion$promotionP = promotion.promotionPackage) === null || _promotion$promotionP === void 0 ? void 0 : _promotion$promotionP.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Duration:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-white\",\n                  children: [promotion.duration, \" hours\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Target Category:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-white capitalize\",\n                  children: promotion.targetCategory\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t border-gray-600 pt-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-lg font-medium\",\n                    children: \"Total:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-2xl font-bold text-purple-400\",\n                    children: [\"$\", promotion.budget]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              x: 20\n            },\n            animate: {\n              opacity: 1,\n              x: 0\n            },\n            transition: {\n              delay: 0.2\n            },\n            className: \"bg-gray-800 rounded-xl p-6 border border-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-bold mb-4 flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Lock, {\n                className: \"h-5 w-5 text-green-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Secure Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 text-sm text-gray-400\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u2022 Your payment information is encrypted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u2022 We use industry-standard security\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u2022 You can cancel anytime\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u2022 24/7 customer support\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .payment-form {\n          @apply space-y-6;\n        }\n        \n        .payment-element-container {\n          @apply bg-gray-700 rounded-lg p-4 border border-gray-600;\n        }\n        \n        .payment-button {\n          @apply w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2;\n        }\n        \n        .error-message {\n          @apply p-4 bg-red-500/20 border border-red-500/30 rounded-lg text-red-400;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 338,\n    columnNumber: 5\n  }, this);\n};\n_s3(PromotionPayment, \"TG9g7ABlnDFpdFx3eVE3jKtxDRA=\", false, function () {\n  return [useAuth, useNavigate, useParams, useQueryClient, useQuery, useMutation, useMutation];\n});\n_c3 = PromotionPayment;\nexport default PromotionPayment;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MockPaymentForm\");\n$RefreshReg$(_c2, \"PaymentForm\");\n$RefreshReg$(_c3, \"PromotionPayment\");","map":{"version":3,"names":["React","useState","useEffect","useQuery","useMutation","useQueryClient","motion","useNavigate","useParams","loadStripe","Elements","PaymentElement","useStripe","useElements","ArrowLeft","CreditCard","Check","AlertCircle","Loader","Shield","Lock","promotionService","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","stripePromise","process","env","REACT_APP_STRIPE_PUBLISHABLE_KEY","startsWith","MockPaymentForm","promotion","onSuccess","onError","_s","loading","setLoading","error","setError","handleMockPayment","Promise","resolve","setTimeout","mockPaymentData","paymentIntentId","Date","now","amount","budget","status","confirmPayment","paymentId","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","promotionPackage","name","duration","onClick","disabled","_c","PaymentForm","_s2","stripe","elements","handleSubmit","event","preventDefault","submitError","submit","paymentIntent","confirmError","confirmParams","return_url","window","location","origin","_id","redirect","id","onSubmit","type","_c2","PromotionPayment","_s3","_promotion$promotionP","user","navigate","queryClient","clientSecret","setClientSecret","paymentData","setPaymentData","success","setSuccess","data","isLoading","queryKey","queryFn","getPromotion","enabled","createPaymentIntentMutation","mutationFn","createPaymentIntent","_error$response","_error$response$data","response","confirmPaymentMutation","invalidateQueries","_error$response2","_error$response2$data","mutate","handlePaymentSuccess","handlePaymentError","div","initial","opacity","scale","animate","y","x","options","targetCategory","transition","delay","jsx","_c3","$RefreshReg$"],"sources":["C:/Users/ericv/final10/client/src/pages/PromotionPayment.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { motion } from 'framer-motion';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport {\r\n  Elements,\r\n  PaymentElement,\r\n  useStripe,\r\n  useElements\r\n} from '@stripe/react-stripe-js';\r\nimport { \r\n  ArrowLeft,\r\n  CreditCard,\r\n  Check,\r\n  AlertCircle,\r\n  Loader,\r\n  Shield,\r\n  Lock\r\n} from 'lucide-react';\r\nimport promotionService from '../services/promotionService';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\n// Initialize Stripe (with fallback for testing)\r\nconst stripePromise = process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY && \r\n  process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY.startsWith('pk_') \r\n  ? loadStripe(process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY)\r\n  : null;\r\n\r\nconst MockPaymentForm = ({ promotion, onSuccess, onError }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleMockPayment = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Simulate payment processing\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      \r\n      // Mock successful payment\r\n      const mockPaymentData = {\r\n        paymentIntentId: `pi_mock_${Date.now()}`,\r\n        amount: promotion.budget,\r\n        status: 'succeeded'\r\n      };\r\n\r\n      await promotionService.confirmPayment({\r\n        paymentId: promotion.paymentId,\r\n        paymentIntentId: mockPaymentData.paymentIntentId\r\n      });\r\n\r\n      onSuccess(mockPaymentData);\r\n    } catch (err) {\r\n      setError(err.message || 'Payment failed');\r\n      onError(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"payment-form\">\r\n      <div className=\"payment-element-container\">\r\n        <div className=\"text-center p-8\">\r\n          <div className=\"text-yellow-400 mb-4\">\r\n            <CreditCard className=\"h-12 w-12 mx-auto\" />\r\n          </div>\r\n          <h3 className=\"text-lg font-semibold text-white mb-2\">Mock Payment Mode</h3>\r\n          <p className=\"text-gray-400 mb-4\">\r\n            Stripe is not configured. This is a test payment that will simulate a successful transaction.\r\n          </p>\r\n          <div className=\"bg-gray-700 rounded-lg p-4 mb-4\">\r\n            <div className=\"text-sm text-gray-300\">\r\n              <div className=\"flex justify-between mb-2\">\r\n                <span>Promotion:</span>\r\n                <span className=\"text-white\">{promotion.promotionPackage.name}</span>\r\n              </div>\r\n              <div className=\"flex justify-between mb-2\">\r\n                <span>Amount:</span>\r\n                <span className=\"text-white\">${promotion.budget}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Duration:</span>\r\n                <span className=\"text-white\">{promotion.duration}h</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {error && (\r\n        <div className=\"error-message\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      <button \r\n        onClick={handleMockPayment}\r\n        disabled={loading}\r\n        className=\"payment-button\"\r\n      >\r\n        {loading ? (\r\n          <Loader className=\"w-5 h-5 animate-spin mx-auto\" />\r\n        ) : (\r\n          <>\r\n            <CreditCard className=\"w-5 h-5\" />\r\n            Complete Mock Payment - ${promotion.budget}\r\n          </>\r\n        )}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PaymentForm = ({ promotion, onSuccess, onError }) => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!stripe || !elements) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const { error: submitError } = await elements.submit();\r\n      if (submitError) {\r\n        setError(submitError.message);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const { paymentIntent, error: confirmError } = await stripe.confirmPayment({\r\n        elements,\r\n        confirmParams: {\r\n          return_url: `${window.location.origin}/promotion/${promotion._id}/success`,\r\n        },\r\n        redirect: 'if_required',\r\n      });\r\n\r\n      if (confirmError) {\r\n        setError(confirmError.message);\r\n      } else if (paymentIntent.status === 'succeeded') {\r\n        // Confirm payment on our server\r\n        await promotionService.confirmPayment({\r\n          paymentId: promotion.paymentId,\r\n          paymentIntentId: paymentIntent.id\r\n        });\r\n        \r\n        onSuccess(paymentIntent);\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || 'Payment failed');\r\n      onError(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"payment-form\">\r\n      <div className=\"payment-element-container\">\r\n        <PaymentElement />\r\n      </div>\r\n      \r\n      {error && (\r\n        <div className=\"error-message\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      <button \r\n        type=\"submit\" \r\n        disabled={!stripe || loading}\r\n        className=\"payment-button\"\r\n      >\r\n        {loading ? (\r\n          <Loader className=\"w-5 h-5 animate-spin mx-auto\" />\r\n        ) : (\r\n          <>\r\n            <CreditCard className=\"w-5 h-5\" />\r\n            Pay ${promotion.budget}\r\n          </>\r\n        )}\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst PromotionPayment = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const queryClient = useQueryClient();\r\n  \r\n  const [clientSecret, setClientSecret] = useState(null);\r\n  const [paymentData, setPaymentData] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Fetch promotion details\r\n  const { data: promotion, isLoading } = useQuery({\r\n    queryKey: ['promotion', id],\r\n    queryFn: () => promotionService.getPromotion(id),\r\n    enabled: !!id && !!user\r\n  });\r\n\r\n  // Create payment intent mutation\r\n  const createPaymentIntentMutation = useMutation({\r\n    mutationFn: () => promotionService.createPaymentIntent(id),\r\n    onSuccess: (data) => {\r\n      setClientSecret(data.clientSecret);\r\n      setPaymentData(data);\r\n    },\r\n    onError: (error) => {\r\n      setError(error.response?.data?.message || 'Failed to create payment intent');\r\n    }\r\n  });\r\n\r\n  // Confirm payment mutation\r\n  const confirmPaymentMutation = useMutation({\r\n    mutationFn: (paymentData) => promotionService.confirmPayment(paymentData),\r\n    onSuccess: () => {\r\n      setSuccess(true);\r\n      // Invalidate and refetch relevant queries\r\n      queryClient.invalidateQueries(['promotion', id]);\r\n      queryClient.invalidateQueries(['my-promotions']);\r\n      queryClient.invalidateQueries(['promoted-trending']);\r\n    },\r\n    onError: (error) => {\r\n      setError(error.response?.data?.message || 'Payment confirmation failed');\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (promotion && promotion.status === 'pending') {\r\n      createPaymentIntentMutation.mutate();\r\n    }\r\n  }, [promotion]);\r\n\r\n  const handlePaymentSuccess = (paymentIntent) => {\r\n    confirmPaymentMutation.mutate({\r\n      paymentId: paymentData.paymentId,\r\n      paymentIntentId: paymentIntent.id\r\n    });\r\n  };\r\n\r\n  const handlePaymentError = (error) => {\r\n    setError(error.message || 'Payment failed');\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 text-white flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-2xl font-bold mb-4\">Please login to complete payment</h1>\r\n          <button \r\n            onClick={() => navigate('/login')}\r\n            className=\"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg\"\r\n          >\r\n            Login\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 text-white flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <Loader className=\"h-8 w-8 animate-spin mx-auto mb-4 text-purple-500\" />\r\n          <p className=\"text-gray-400\">Loading promotion details...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!promotion) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 text-white flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-2xl font-bold mb-4\">Promotion not found</h1>\r\n          <button \r\n            onClick={() => navigate('/trending')}\r\n            className=\"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg\"\r\n          >\r\n            Back to Trending\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (success) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 text-white flex items-center justify-center\">\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.9 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          className=\"text-center max-w-md mx-auto\"\r\n        >\r\n          <div className=\"bg-green-500/20 border border-green-500/30 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6\">\r\n            <Check className=\"h-10 w-10 text-green-400\" />\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold mb-4 text-green-400\">Payment Successful!</h1>\r\n          <p className=\"text-gray-400 mb-6\">\r\n            Your promotion has been activated and is now live on the Trending page.\r\n          </p>\r\n          <div className=\"space-y-4\">\r\n            <button \r\n              onClick={() => navigate('/trending')}\r\n              className=\"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300\"\r\n            >\r\n              View Your Promotion\r\n            </button>\r\n            <button \r\n              onClick={() => navigate('/promotion-dashboard')}\r\n              className=\"w-full bg-gray-700 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-lg transition-colors\"\r\n            >\r\n              Manage Promotions\r\n            </button>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900 text-white\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        {/* Header */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"mb-8\"\r\n        >\r\n          <div className=\"flex items-center space-x-4 mb-6\">\r\n            <button\r\n              onClick={() => navigate('/promote-listing')}\r\n              className=\"p-2 hover:bg-gray-800 rounded-lg transition-colors\"\r\n            >\r\n              <ArrowLeft className=\"h-6 w-6\" />\r\n            </button>\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\">\r\n                Complete Payment\r\n              </h1>\r\n              <p className=\"text-gray-400\">Secure payment for your promotion</p>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n          {/* Payment Form */}\r\n          <div className=\"lg:col-span-2\">\r\n            <motion.div\r\n              initial={{ opacity: 0, x: -20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              className=\"bg-gray-800 rounded-xl p-8 border border-gray-700\"\r\n            >\r\n              <div className=\"flex items-center space-x-2 mb-6\">\r\n                <Shield className=\"h-5 w-5 text-green-400\" />\r\n                <span className=\"text-green-400 font-medium\">Secure Payment</span>\r\n              </div>\r\n\r\n              {error && (\r\n                <div className=\"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-lg\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <AlertCircle className=\"h-5 w-5 text-red-400\" />\r\n                    <p className=\"text-red-400\">{error}</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {createPaymentIntentMutation.isLoading ? (\r\n                <div className=\"text-center py-8\">\r\n                  <Loader className=\"h-8 w-8 animate-spin mx-auto mb-4 text-purple-500\" />\r\n                  <p className=\"text-gray-400\">Preparing payment...</p>\r\n                </div>\r\n              ) : clientSecret && paymentData ? (\r\n                stripePromise ? (\r\n                  <Elements stripe={stripePromise} options={{ clientSecret }}>\r\n                    <PaymentForm \r\n                      promotion={{ ...promotion, paymentId: paymentData.paymentId }}\r\n                      onSuccess={handlePaymentSuccess}\r\n                      onError={handlePaymentError}\r\n                    />\r\n                  </Elements>\r\n                ) : (\r\n                  <MockPaymentForm \r\n                    promotion={{ ...promotion, paymentId: paymentData.paymentId }}\r\n                    onSuccess={handlePaymentSuccess}\r\n                    onError={handlePaymentError}\r\n                  />\r\n                )\r\n              ) : (\r\n                <div className=\"text-center py-8\">\r\n                  <p className=\"text-gray-400\">Unable to process payment</p>\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n          </div>\r\n\r\n          {/* Payment Summary */}\r\n          <div className=\"space-y-6\">\r\n            <motion.div\r\n              initial={{ opacity: 0, x: 20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              className=\"bg-gray-800 rounded-xl p-6 border border-gray-700\"\r\n            >\r\n              <h3 className=\"text-lg font-bold mb-4\">Payment Summary</h3>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-400\">Promotion Package:</span>\r\n                  <span className=\"text-white font-medium\">{promotion.promotionPackage?.name}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-400\">Duration:</span>\r\n                  <span className=\"text-white\">{promotion.duration} hours</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-400\">Target Category:</span>\r\n                  <span className=\"text-white capitalize\">{promotion.targetCategory}</span>\r\n                </div>\r\n                <div className=\"border-t border-gray-600 pt-4\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-lg font-medium\">Total:</span>\r\n                    <span className=\"text-2xl font-bold text-purple-400\">${promotion.budget}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n\r\n            {/* Security Info */}\r\n            <motion.div\r\n              initial={{ opacity: 0, x: 20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              transition={{ delay: 0.2 }}\r\n              className=\"bg-gray-800 rounded-xl p-6 border border-gray-700\"\r\n            >\r\n              <h3 className=\"text-lg font-bold mb-4 flex items-center space-x-2\">\r\n                <Lock className=\"h-5 w-5 text-green-400\" />\r\n                <span>Secure Payment</span>\r\n              </h3>\r\n              <div className=\"space-y-3 text-sm text-gray-400\">\r\n                <div> Your payment information is encrypted</div>\r\n                <div> We use industry-standard security</div>\r\n                <div> You can cancel anytime</div>\r\n                <div> 24/7 customer support</div>\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .payment-form {\r\n          @apply space-y-6;\r\n        }\r\n        \r\n        .payment-element-container {\r\n          @apply bg-gray-700 rounded-lg p-4 border border-gray-600;\r\n        }\r\n        \r\n        .payment-button {\r\n          @apply w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2;\r\n        }\r\n        \r\n        .error-message {\r\n          @apply p-4 bg-red-500/20 border border-red-500/30 rounded-lg text-red-400;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PromotionPayment;\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}