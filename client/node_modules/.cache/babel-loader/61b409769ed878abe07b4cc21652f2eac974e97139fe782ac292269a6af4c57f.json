{"ast":null,"code":"// client/src/lib/api.js\nimport axios from \"axios\";\nconst API_BASE = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\nexport const api = axios.create({\n  baseURL: API_BASE\n});\n\n// Attach token if present\nexport function setAuthToken(token) {\n  if (token) {\n    localStorage.setItem(\"token\", token);\n    api.defaults.headers.common.Authorization = `Bearer ${token}`;\n  } else {\n    localStorage.removeItem(\"token\");\n    delete api.defaults.headers.common.Authorization;\n  }\n}\n\n// On load, hydrate from localStorage\nconst saved = localStorage.getItem(\"token\");\nif (saved) setAuthToken(saved);\n\n// ---- Auth (optional for now) ----\nexport async function loginUser({\n  email,\n  password\n}) {\n  const {\n    data\n  } = await api.post(\"/auth/login\", {\n    email,\n    password\n  });\n  setAuthToken(data.token);\n  return data.user;\n}\nexport async function registerUser(payload) {\n  const {\n    data\n  } = await api.post(\"/auth/signup\", payload);\n  setAuthToken(data.token);\n  return data.user;\n}\n\n// ---- Points ----\nexport async function getMyPoints() {\n  const {\n    data\n  } = await api.get(\"/points/me\");\n  return data; // { balance, history }\n}\nexport async function claimDailyLogin() {\n  const {\n    data\n  } = await api.post(\"/points/daily\");\n  return data; // { newBalance, added } OR { message: \"...already claimed\" }\n}","map":{"version":3,"names":["axios","API_BASE","process","env","REACT_APP_API_URL","api","create","baseURL","setAuthToken","token","localStorage","setItem","defaults","headers","common","Authorization","removeItem","saved","getItem","loginUser","email","password","data","post","user","registerUser","payload","getMyPoints","get","claimDailyLogin"],"sources":["C:/Users/ericv/final10/client/src/lib/api.js"],"sourcesContent":["// client/src/lib/api.js\r\nimport axios from \"axios\";\r\n\r\nconst API_BASE = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\r\n\r\nexport const api = axios.create({\r\n  baseURL: API_BASE,\r\n});\r\n\r\n// Attach token if present\r\nexport function setAuthToken(token) {\r\n  if (token) {\r\n    localStorage.setItem(\"token\", token);\r\n    api.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  } else {\r\n    localStorage.removeItem(\"token\");\r\n    delete api.defaults.headers.common.Authorization;\r\n  }\r\n}\r\n\r\n// On load, hydrate from localStorage\r\nconst saved = localStorage.getItem(\"token\");\r\nif (saved) setAuthToken(saved);\r\n\r\n// ---- Auth (optional for now) ----\r\nexport async function loginUser({ email, password }) {\r\n  const { data } = await api.post(\"/auth/login\", { email, password });\r\n  setAuthToken(data.token);\r\n  return data.user;\r\n}\r\n\r\nexport async function registerUser(payload) {\r\n  const { data } = await api.post(\"/auth/signup\", payload);\r\n  setAuthToken(data.token);\r\n  return data.user;\r\n}\r\n\r\n// ---- Points ----\r\nexport async function getMyPoints() {\r\n  const { data } = await api.get(\"/points/me\");\r\n  return data; // { balance, history }\r\n}\r\n\r\nexport async function claimDailyLogin() {\r\n  const { data } = await api.post(\"/points/daily\");\r\n  return data; // { newBalance, added } OR { message: \"...already claimed\" }\r\n}\r\n\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAE7E,OAAO,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EAC9BC,OAAO,EAAEN;AACX,CAAC,CAAC;;AAEF;AACA,OAAO,SAASO,YAAYA,CAACC,KAAK,EAAE;EAClC,IAAIA,KAAK,EAAE;IACTC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;IACpCJ,GAAG,CAACO,QAAQ,CAACC,OAAO,CAACC,MAAM,CAACC,aAAa,GAAG,UAAUN,KAAK,EAAE;EAC/D,CAAC,MAAM;IACLC,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;IAChC,OAAOX,GAAG,CAACO,QAAQ,CAACC,OAAO,CAACC,MAAM,CAACC,aAAa;EAClD;AACF;;AAEA;AACA,MAAME,KAAK,GAAGP,YAAY,CAACQ,OAAO,CAAC,OAAO,CAAC;AAC3C,IAAID,KAAK,EAAET,YAAY,CAACS,KAAK,CAAC;;AAE9B;AACA,OAAO,eAAeE,SAASA,CAAC;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAE;EACnD,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMjB,GAAG,CAACkB,IAAI,CAAC,aAAa,EAAE;IAAEH,KAAK;IAAEC;EAAS,CAAC,CAAC;EACnEb,YAAY,CAACc,IAAI,CAACb,KAAK,CAAC;EACxB,OAAOa,IAAI,CAACE,IAAI;AAClB;AAEA,OAAO,eAAeC,YAAYA,CAACC,OAAO,EAAE;EAC1C,MAAM;IAAEJ;EAAK,CAAC,GAAG,MAAMjB,GAAG,CAACkB,IAAI,CAAC,cAAc,EAAEG,OAAO,CAAC;EACxDlB,YAAY,CAACc,IAAI,CAACb,KAAK,CAAC;EACxB,OAAOa,IAAI,CAACE,IAAI;AAClB;;AAEA;AACA,OAAO,eAAeG,WAAWA,CAAA,EAAG;EAClC,MAAM;IAAEL;EAAK,CAAC,GAAG,MAAMjB,GAAG,CAACuB,GAAG,CAAC,YAAY,CAAC;EAC5C,OAAON,IAAI,CAAC,CAAC;AACf;AAEA,OAAO,eAAeO,eAAeA,CAAA,EAAG;EACtC,MAAM;IAAEP;EAAK,CAAC,GAAG,MAAMjB,GAAG,CAACkB,IAAI,CAAC,eAAe,CAAC;EAChD,OAAOD,IAAI,CAAC,CAAC;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}